<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xBrush ë™ì˜ìƒ ê´‘ê³  ì œì‘</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            background-color: #f7fafc;
            color: #2d3748;
            line-height: 1.5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }

        /* Chakra UI ìŠ¤íƒ€ì¼ ìƒë‹¨ ë„¤ë¹„ê²Œì´í„° */
        .progress-nav {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            border: 1px solid #e2e8f0;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            flex-wrap: wrap;
            gap: 8px;
        }

        .progress-line {
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e2e8f0;
            z-index: 1;
        }

        .progress-line-active {
            height: 2px;
            background: #3182ce;
            transition: width 0.3s ease;
            z-index: 2;
            position: relative;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.2s ease;
            min-width: 120px;
            text-align: center;
            position: relative;
            z-index: 3;
            background: white;
        }

        .step:hover:not(.active) {
            background: #edf2f7;
        }

        .step.active {
            color: #3182ce;
        }

        .step.completed {
            color: #38a169;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 8px;
            border: 2px solid #e2e8f0;
            background: white;
            transition: all 0.2s ease;
        }

        .step.active .step-number {
            background: #3182ce;
            color: white;
            border-color: #3182ce;
        }

        .step.completed .step-number {
            background: #38a169;
            color: white;
            border-color: #38a169;
        }

        .step-label {
            font-size: 12px;
            font-weight: 500;
            text-align: center;
            line-height: 1.2;
        }

        /* ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ */
        .content-area {
            background: white;
            border-radius: 12px;
            padding: 32px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            border: 1px solid #e2e8f0;
            min-height: 500px;
        }

        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
        }

        /* Chakra UI Button ìŠ¤íƒ€ì¼ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            font-size: 14px;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }

        .btn-primary {
            background: #3182ce;
            color: white;
        }

        .btn-primary:hover {
            background: #2c5aa0;
        }

        .btn-outline {
            background: transparent;
            color: #3182ce;
            border: 1px solid #3182ce;
        }

        .btn-outline:hover {
            background: #3182ce;
            color: white;
        }
        
        .btn-disabled {
            background: #a0aec0 !important;
            color: #718096 !important;
            cursor: not-allowed !important;
        }
        
        .btn-disabled:hover {
            background: #a0aec0 !important;
            transform: none !important;
        }

        /* í—¤ë”© ìŠ¤íƒ€ì¼ */
        .heading {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 16px;
            color: #1a202c;
        }

        .subheading {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
        }

        /* í¼ ìŠ¤íƒ€ì¼ */
        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .form-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #3182ce;
            box-shadow: 0 0 0 1px #3182ce;
        }

        .form-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        /* ì¹´ë“œ ê·¸ë¦¬ë“œ */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }

        .card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }

        .card:hover {
            border-color: #3182ce;
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.15);
        }

        .card.selected {
            border-color: #3182ce;
            background: #ebf8ff;
        }

        /* ì•¡ì…˜ ë²„íŠ¼ ì˜ì—­ */
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #e2e8f0;
        }

        /* ì§„í–‰ë¥  í‘œì‹œ */
        .progress-indicator {
            margin-bottom: 16px;
        }

        .progress-text {
            font-size: 14px;
            color: #718096;
            margin-bottom: 8px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #3182ce;
            transition: width 0.3s ease;
        }

        /* ìŠ¤íƒ€ì¼ ì„ íƒ ì¹´ë“œ */
        .style-card {
            position: relative;
            overflow: hidden;
        }

        .style-preview {
            width: 100%;
            height: 120px;
            background: linear-gradient(45deg, #f7fafc, #edf2f7);
            border-radius: 6px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #718096;
        }

        .genre-action { background: linear-gradient(45deg, #ff6b6b, #ee5a24); }
        .genre-romance { background: linear-gradient(45deg, #ff9ff3, #f368e0); }
        .genre-thriller { background: linear-gradient(45deg, #54a0ff, #2e86de); }
        .genre-comedy { background: linear-gradient(45deg, #ffa502, #ff6348); }
        .genre-documentary { background: linear-gradient(45deg, #7bed9f, #70a1ff); }

        /* ì´ë¯¸ì§€ ì‹œì•ˆ ê·¸ë¦¬ë“œ */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin: 16px 0;
        }

        .image-option {
            aspect-ratio: 16/9;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: #f7fafc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #718096;
        }

        .image-option:hover {
            border-color: #3182ce;
        }

        .image-option.selected {
            border-color: #3182ce;
            background: #ebf8ff;
        }

        /* CTA ë°°ë„ˆ ìŠ¤íƒ€ì¼ */
        .cta-banner {
            margin: 32px 0;
            padding: 24px;
            border-radius: 12px;
            color: white;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .cta-banner:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .cta-banner:hover .shine {
            left: 100% !important;
        }

        .shine {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }
            
            .progress-steps {
                flex-direction: column;
                gap: 16px;
            }
            
            .progress-line {
                display: none;
            }
            
            .step {
                width: 100%;
                flex-direction: row;
                justify-content: flex-start;
                min-width: auto;
            }
            
            .step-number {
                margin-bottom: 0;
                margin-right: 12px;
            }
            
            .card-grid {
                grid-template-columns: 1fr;
            }
            
            .image-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ìƒë‹¨ ì§„í–‰ë¥  ë„¤ë¹„ê²Œì´í„° -->
        <div class="progress-nav">
            <div class="progress-steps">
                <div class="progress-line">
                    <div class="progress-line-active" id="progressLine"></div>
                </div>
                
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">ì¶œì—°ì ì„ íƒ</div>
                </div>
                
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">ê¸°ë³¸ ì •ë³´</div>
                </div>
                
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">í˜•ì‹ ì„ íƒ</div>
                </div>
                
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-label">ìŠ¤íƒ€ì¼ ì„ íƒ</div>
                </div>
                
                <div class="step" data-step="5">
                    <div class="step-number">5</div>
                    <div class="step-label">ì‹œë‚˜ë¦¬ì˜¤ í™•ì¸</div>
                </div>
                
                <div class="step" data-step="6">
                    <div class="step-number">6</div>
                    <div class="step-label">ì˜ìƒ ì œì‘</div>
                </div>
                
                <div class="step" data-step="7">
                    <div class="step-number">7</div>
                    <div class="step-label">ê²°ê³¼ í™•ì¸</div>
                </div>
            </div>
        </div>

        <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
        <div class="content-area">
            <!-- 1ë‹¨ê³„: ì¶œì—°ì ì„ íƒ -->
            <div class="step-content active" id="step1">
                <div class="progress-indicator">
                    <div class="progress-text">1/7 ë‹¨ê³„ - ì¶œì—°ì ì„ íƒ</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 14%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ì¶œì—°ìë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h1>
                <p style="color: #718096; margin-bottom: 32px;">ê´‘ê³ ì— ì¶œì—°í•  ëª¨ë¸ì„ ì„ íƒí•˜ì„¸ìš”. ê° ëª¨ë¸ì€ ì¼ê´€ëœ ì™¸ëª¨ë¡œ ì˜ìƒì— ë“±ì¥í•©ë‹ˆë‹¤.</p>
                
                <!-- ë²„ì¸„ì–¼ ëª¨ë¸ ì„¹ì…˜ -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <h2 class="subheading" style="margin-bottom: 0; margin-right: 12px;">AI ë²„ì¸„ì–¼ ëª¨ë¸</h2>
                        <span style="background: #38a169; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">ë¬´ë£Œ</span>
                    </div>
                    <p style="color: #718096; margin-bottom: 16px; font-size: 14px;">AIë¡œ ìƒì„±ëœ ê°€ìƒì˜ ëª¨ë¸ë“¤ì…ë‹ˆë‹¤. ë¬´ì œí•œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                    
                    <div class="card-grid">
                        <div class="card" onclick="selectModel(this, 'virtual1', 'free')">
                            <div class="model-image" data-model="virtual1" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/667eea/ffffff?text=AI+Model+A'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: rgba(255,255,255,0.9); color: #2d3748; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">FREE</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì Šì€ ì—¬ì„± ëª¨ë¸</h3>
                            <p style="font-size: 12px; color: #718096;">20ëŒ€, ì¹œê·¼í•˜ê³  í™œë°œí•œ ì´ë¯¸ì§€</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'virtual2', 'free')">
                            <div class="model-image" data-model="virtual2" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/f093fb/ffffff?text=AI+Model+B'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: rgba(255,255,255,0.9); color: #2d3748; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">FREE</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì„±ìˆ™í•œ ë‚¨ì„± ëª¨ë¸</h3>
                            <p style="font-size: 12px; color: #718096;">30ëŒ€, ì‹ ë¢°ê° ìˆëŠ” ì „ë¬¸ì  ì´ë¯¸ì§€</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'virtual3', 'free')">
                            <div class="model-image" data-model="virtual3" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/4facfe/ffffff?text=AI+Model+C'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: rgba(255,255,255,0.9); color: #2d3748; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">FREE</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì¤‘ë…„ ì—¬ì„± ëª¨ë¸</h3>
                            <p style="font-size: 12px; color: #718096;">40ëŒ€, ì•ˆì •ê° ìˆëŠ” í”„ë¦¬ë¯¸ì—„ ì´ë¯¸ì§€</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'virtual4', 'free')">
                            <div class="model-image" data-model="virtual4" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/fa709a/ffffff?text=AI+Model+D'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: rgba(255,255,255,0.9); color: #2d3748; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">FREE</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì Šì€ ë‚¨ì„± ëª¨ë¸</h3>
                            <p style="font-size: 12px; color: #718096;">20ëŒ€, ì—­ë™ì ì´ê³  íŠ¸ë Œë””í•œ ì´ë¯¸ì§€</p>
                        </div>
                    </div>
                </div>

                <!-- ì‹¤ì œ ë°°ìš° ì„¹ì…˜ -->
                <div>
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <h2 class="subheading" style="margin-bottom: 0; margin-right: 12px;">ì‹¤ì œ ë°°ìš°</h2>
                        <span style="background: linear-gradient(45deg, #667eea, #764ba2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">+100 í¬ë ˆë”§!</span>
                    </div>
                    <p style="color: #718096; margin-bottom: 16px; font-size: 14px;">ì‹¤ì œ ë°°ìš°ë“¤ì˜ ë”¥í˜ì´í¬ ê¸°ìˆ ì„ í™œìš©í•œ í”„ë¦¬ë¯¸ì—„ ëª¨ë¸ì…ë‹ˆë‹¤. ë”ìš± ìì—°ìŠ¤ëŸ½ê³  ì „ë¬¸ì ì¸ ê´‘ê³  ì œì‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px;">
                        <div class="card" onclick="selectModel(this, 'actor1', 'premium')">
                            <div class="model-image" data-model="actor1" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/2d3748/ffffff?text=ê³µìœ '); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: linear-gradient(45deg, #f6ad55, #ed8936); color: white; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">100ğŸ’</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì±„ì—°</h3>
                            <p style="font-size: 12px; color: #718096;">ìƒí¼í•œ 20ëŒ€ ì±„ì—°ì˜ ëª¨ìŠµ ê·¸ëŒ€ë¡œ</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'actor2', 'premium')">
                            <div class="model-image" data-model="actor2" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/553c9a/ffffff?text=ì•„ì´ìœ '); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: linear-gradient(45deg, #f6ad55, #ed8936); color: white; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">100ğŸ’</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì´ìƒì•„</h3>
                            <p style="font-size: 12px; color: #718096;">ë°ê³  ì¹œê·¼í•œ êµ­ë¯¼ì  ë§¤ë ¥</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'actor3', 'premium')">
                            <div class="model-image" data-model="actor3" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/1a202c/ffffff?text=ì´ì •ì¬'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: linear-gradient(45deg, #f6ad55, #ed8936); color: white; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">100ğŸ’</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì´ì •ì¬</h3>
                            <p style="font-size: 12px; color: #718096;">ì¹´ë¦¬ìŠ¤ë§ˆ ìˆê³  ë¯¿ìŒì§í•œ ë¦¬ë”ì‹­</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'actor4', 'premium')">
                            <div class="model-image" data-model="actor4" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/c53030/ffffff?text=ì „ì§€í˜„'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: linear-gradient(45deg, #f6ad55, #ed8936); color: white; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">100ğŸ’</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì „ì§€í˜„</h3>
                            <p style="font-size: 12px; color: #718096;">ìš°ì•„í•˜ê³  ì„¸ë ¨ëœ ì—¬ì„± ë§¤ë ¥</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'actor5', 'premium')">
                            <div class="model-image" data-model="actor5" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/065f46/ffffff?text=ë°•ì„œì¤€'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: linear-gradient(45deg, #f6ad55, #ed8936); color: white; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">100ğŸ’</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ë°•ì„œì¤€</h3>
                            <p style="font-size: 12px; color: #718096;">ì Šê³  ì—­ë™ì ì¸ í˜„ëŒ€ì  ë§¤ë ¥</p>
                        </div>
                        
                        <div class="card" onclick="selectModel(this, 'actor6', 'premium')">
                            <div class="model-image" data-model="actor6" style="width: 100%; height: 120px; background-image: url('https://via.placeholder.com/300x300/7c2d12/ffffff?text=ì†ì˜ˆì§„'); background-size: cover; background-position: center; border-radius: 6px; margin-bottom: 12px; position: relative;">
                                <div style="position: absolute; top: 8px; right: 8px; background: linear-gradient(45deg, #f6ad55, #ed8936); color: white; padding: 2px 6px; border-radius: 8px; font-size: 10px; font-weight: 600;">100ğŸ’</div>
                            </div>
                            <h3 style="font-weight: 600; margin-bottom: 4px;">ì†ì˜ˆì§„</h3>
                            <p style="font-size: 12px; color: #718096;">ë¡œë§¨í‹±í•˜ê³  í’ˆê²© ìˆëŠ” ë§¤ë ¥</p>
                        </div>
                    </div>
                </div>
                
                <!-- CTA ë°°ë„ˆ ê°„ì†Œí™” -->
                <div class="cta-banner" style="background: linear-gradient(135deg, #667eea, #764ba2);" onclick="applyAsModel()">
                    <div class="shine"></div>
                    <div style="position: relative; z-index: 1;">
                        <h3 style="margin: 0; font-size: 18px; font-weight: 600;">ğŸ’° AI ëª¨ë¸ ì‹ ì²­í•˜ê³  ìˆ˜ìµ ì°½ì¶œí•˜ê¸°</h3>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <div></div>
                    <button class="btn btn-primary" id="step1Next" onclick="nextStep()" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- 2ë‹¨ê³„: ê¸°ë³¸ ì •ë³´ ì…ë ¥ -->
            <div class="step-content" id="step2">
                <div class="progress-indicator">
                    <div class="progress-text">2/7 ë‹¨ê³„ - ê¸°ë³¸ ì •ë³´ ì…ë ¥</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 28%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ê´‘ê³ í•  ì œí’ˆ/ì„œë¹„ìŠ¤ ì •ë³´</h1>
                <p style="color: #718096; margin-bottom: 24px;">AIê°€ ìµœì ì˜ ê´‘ê³  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                
                <div class="form-group">
                    <label class="form-label">ì œí’ˆ/ì„œë¹„ìŠ¤ëª… *</label>
                    <input type="text" class="form-input" placeholder="ì˜ˆ: ì‹ ì„ í•œ ìœ ê¸°ë† ì‚¬ê³¼, ì˜¨ë¼ì¸ ì˜ì–´ ê°•ì˜ ë“±" id="productName">
                </div>
                
                <div class="form-group">
                    <label class="form-label">íƒ€ê²Ÿì¸µ *</label>
                    <select class="form-select" id="targetAudience">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="teens">10ëŒ€ (13-19ì„¸)</option>
                        <option value="twenties">20ëŒ€ (20-29ì„¸)</option>
                        <option value="thirties">30ëŒ€ (30-39ì„¸)</option>
                        <option value="forties">40ëŒ€ (40-49ì„¸)</option>
                        <option value="fifties">50ëŒ€ ì´ìƒ</option>
                        <option value="all">ì „ ì—°ë ¹ëŒ€</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">í•µì‹¬ ë©”ì‹œì§€ *</label>
                    <input type="text" class="form-input" placeholder="ì˜ˆ: ì„¸ìƒì—ì„œ ê°€ì¥ ë§›ìˆëŠ” ì‚¬ê³¼ì…ë‹ˆë‹¤" id="coreMessage">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ê´‘ê³  í†¤ì•¤ë§¤ë„ˆ *</label>
                    <select class="form-select" id="tone">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="serious">ì§„ì§€í•˜ê³  ì „ë¬¸ì ì¸</option>
                        <option value="friendly">ì¹œê·¼í•˜ê³  ìœ ì¾Œí•œ</option>
                        <option value="luxury">ê³ ê¸‰ìŠ¤ëŸ½ê³  ì„¸ë ¨ëœ</option>
                        <option value="energetic">ì—­ë™ì ì´ê³  í™œê¸°ì°¬</option>
                        <option value="warm">ë”°ëœ»í•˜ê³  ê°ì„±ì ì¸</option>
                    </select>
                </div>
                
                <!-- CTA ë°°ë„ˆ ê°„ì†Œí™” -->
                <div class="cta-banner" style="background: linear-gradient(135deg, #38a169, #68d391);" onclick="applyAsModel()">
                    <div class="shine"></div>
                    <div style="position: relative; z-index: 1;">
                        <h3 style="margin: 0; font-size: 18px; font-weight: 600;">ğŸ¬ AI ëª¨ë¸ ì‹ ì²­í•˜ê¸°</h3>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="prevStep()">ì´ì „ ë‹¨ê³„</button>
                    <button class="btn btn-primary" id="step2Next" onclick="nextStep()" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- 3ë‹¨ê³„: í˜•ì‹ ì„ íƒ -->
            <div class="step-content" id="step3">
                <div class="progress-indicator">
                    <div class="progress-text">3/7 ë‹¨ê³„ - ì˜ìƒ í˜•ì‹ ì„ íƒ</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 42%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ì˜ìƒ í˜•ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h1>
                <p style="color: #718096; margin-bottom: 24px;">ì–´ë–¤ í”Œë«í¼ì—ì„œ ì‚¬ìš©í•  ê´‘ê³ ì¸ì§€ ì„ íƒí•˜ì‹œë©´ ìµœì í™”ëœ í˜•ì‹ìœ¼ë¡œ ì œì‘ë©ë‹ˆë‹¤.</p>
                
                <div class="subheading">í”Œë«í¼ë³„ í¬ë§·</div>
                <div class="card-grid">
                    <div class="card" onclick="selectFormat(this, 'youtube')">
                        <div style="width: 100%; height: 80px; background: #ff0000; border-radius: 6px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 500;">YouTube</div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ìœ íŠœë¸Œ ê´‘ê³ </h3>
                        <p style="font-size: 12px; color: #718096;">16:9 ë¹„ìœ¨, ìŠ¤í‚µ ê°€ëŠ¥í•œ ê´‘ê³ </p>
                    </div>
                    
                    <div class="card" onclick="selectFormat(this, 'instagram')">
                        <div style="width: 100%; height: 80px; background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); border-radius: 6px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 500;">Instagram</div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ì¸ìŠ¤íƒ€ê·¸ë¨ í”¼ë“œ</h3>
                        <p style="font-size: 12px; color: #718096;">1:1 ì •ì‚¬ê°í˜• ë¹„ìœ¨</p>
                    </div>
                    
                    <div class="card" onclick="selectFormat(this, 'reels')">
                        <div style="width: 100%; height: 80px; background: linear-gradient(45deg, #833ab4, #fd1d1d, #fcb045); border-radius: 6px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 500;">Reels</div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ì¸ìŠ¤íƒ€ê·¸ë¨ ë¦´ìŠ¤</h3>
                        <p style="font-size: 12px; color: #718096;">9:16 ì„¸ë¡œ ë¹„ìœ¨</p>
                    </div>
                    
                    <div class="card" onclick="selectFormat(this, 'shorts')">
                        <div style="width: 100%; height: 80px; background: #ff0000; border-radius: 6px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 500;">Shorts</div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ìœ íŠœë¸Œ ì‡¼ì¸ </h3>
                        <p style="font-size: 12px; color: #718096;">9:16 ì„¸ë¡œ ë¹„ìœ¨</p>
                    </div>
                </div>
                
                <div class="subheading" style="margin-top: 32px;">ì˜ìƒ ê¸¸ì´</div>
                <div style="display: flex; gap: 16px; margin-top: 16px;">
                    <div class="card" style="flex: 1;" onclick="selectDuration(this, '10')">
                        <h3 style="font-weight: 600; margin-bottom: 4px;">10ì´ˆ</h3>
                        <p style="font-size: 12px; color: #718096;">ì§§ê³  ì„íŒ©íŠ¸ ìˆëŠ” ë©”ì‹œì§€</p>
                    </div>
                    
                    <div class="card" style="flex: 1;" onclick="selectDuration(this, '15')">
                        <h3 style="font-weight: 600; margin-bottom: 4px;">15ì´ˆ</h3>
                        <p style="font-size: 12px; color: #718096;">ìŠ¤í† ë¦¬ê°€ ìˆëŠ” ê´‘ê³ </p>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="prevStep()">ì´ì „ ë‹¨ê³„</button>
                    <button class="btn btn-primary" id="step3Next" onclick="nextStep()" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- 4ë‹¨ê³„: ì˜ìƒ ìŠ¤íƒ€ì¼ ì„ íƒ -->
            <div class="step-content" id="step4">
                <div class="progress-indicator">
                    <div class="progress-text">4/7 ë‹¨ê³„ - ì˜ìƒ ìŠ¤íƒ€ì¼ ì„ íƒ</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 57%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ì˜ìƒ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h1>
                <p style="color: #718096; margin-bottom: 24px;">ì˜í™” ì¥ë¥´ë³„ ê³ ìœ í•œ ì˜ìƒ ë¬¸ë²•ì„ ì ìš©í•˜ì—¬ ì „ë¬¸ì ì¸ ê´‘ê³ ë¥¼ ì œì‘í•©ë‹ˆë‹¤.</p>
                
                <div class="card-grid">
                    <div class="card style-card" onclick="selectStyle(this, 'action')">
                        <div class="style-preview" style="background-image: url('https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/11.png'); background-size: cover; background-position: center;">
                        </div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ì•¡ì…˜ ìŠ¤íƒ€ì¼</h3>
                        <p style="font-size: 12px; color: #718096;">ë¹ ë¥¸ í¸ì§‘, ê°•ë ¬í•œ ì›€ì§ì„, ì—­ë™ì ì¸ ì¹´ë©”ë¼ ì›Œí¬</p>
                    </div>
                    
                    <div class="card style-card" onclick="selectStyle(this, 'romance')">
                        <div class="style-preview" style="background-image: url('https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/12.png'); background-size: cover; background-position: center;">
                        </div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ë©œë¡œë“œë¼ë§ˆ ìŠ¤íƒ€ì¼</h3>
                        <p style="font-size: 12px; color: #718096;">ë¶€ë“œëŸ¬ìš´ ì „í™˜, í´ë¡œì¦ˆì—…, ê°ì„±ì  ë¶„ìœ„ê¸°</p>
                    </div>
                    
                    <div class="card style-card" onclick="selectStyle(this, 'thriller')">
                        <div class="style-preview" style="background-image: url('https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/13.png'); background-size: cover; background-position: center;">
                        </div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ìŠ¤ë¦´ëŸ¬ ìŠ¤íƒ€ì¼</h3>
                        <p style="font-size: 12px; color: #718096;">ê¸´ì¥ê°, ì•µê¸€ ë³€í™”, ë¯¸ìŠ¤í„°ë¦¬í•œ ë¶„ìœ„ê¸°</p>
                    </div>
                    
                    <div class="card style-card" onclick="selectStyle(this, 'comedy')">
                        <div class="style-preview" style="background-image: url('https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/14.png'); background-size: cover; background-position: center;">
                        </div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ì½”ë¯¸ë”” ìŠ¤íƒ€ì¼</h3>
                        <p style="font-size: 12px; color: #718096;">ê²½ì¾Œí•œ ë¦¬ë“¬, ìœ ë¨¸ëŸ¬ìŠ¤í•œ êµ¬ì„±, ë°ì€ ë¶„ìœ„ê¸°</p>
                    </div>
                    
                    <div class="card style-card" onclick="selectStyle(this, 'documentary')">
                        <div class="style-preview" style="background-image: url('https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/15.png'); background-size: cover; background-position: center;">
                        </div>
                        <h3 style="font-weight: 600; margin-bottom: 4px;">ë‹¤íë©˜í„°ë¦¬ ìŠ¤íƒ€ì¼</h3>
                        <p style="font-size: 12px; color: #718096;">ì•ˆì •ì  ì¹´ë©”ë¼, í˜„ì‹¤ì  í†¤, ì‹ ë¢°ê° ìˆëŠ” ë¶„ìœ„ê¸°</p>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="prevStep()">ì´ì „ ë‹¨ê³„</button>
                    <button class="btn btn-primary" id="step4Next" onclick="nextStep()" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- 5ë‹¨ê³„: ì‹œë‚˜ë¦¬ì˜¤ í™•ì¸ -->
            <div class="step-content" id="step5">
                <div class="progress-indicator">
                    <div class="progress-text">5/7 ë‹¨ê³„ - ì‹œë‚˜ë¦¬ì˜¤ í™•ì¸</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 71%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ğŸ¬ AIê°€ ìƒì„±í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”</h1>
                <p style="color: #718096; margin-bottom: 24px;">ì„ íƒí•˜ì‹  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì í™”ëœ ê´‘ê³  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì‹œê±°ë‚˜ ìˆ˜ì •í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                
                <!-- ìƒì„±ëœ ì‹œë‚˜ë¦¬ì˜¤ -->
                <div style="background: #f7fafc; border-radius: 12px; padding: 24px; margin-bottom: 24px; border-left: 4px solid #3182ce;">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <h3 style="margin: 0; margin-right: 12px;">ğŸ“ ìƒì„±ëœ ì‹œë‚˜ë¦¬ì˜¤</h3>
                        <span style="background: #38a169; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">AI ì¶”ì²œ</span>
                    </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 16px;">
                        <div style="display: grid; grid-template-columns: 1fr 3fr; gap: 16px; margin-bottom: 16px;">
                            <div>
                                <strong>ğŸ­ ì¥ë©´ 1 (0-5ì´ˆ)</strong>
                                <p style="font-size: 12px; color: #718096; margin: 4px 0;">ì˜¤í”„ë‹</p>
                            </div>
                            <div>
                                <div id="scene1Text" style="line-height: 1.6;">
                                    ë§¤ë ¥ì ì¸ ëª¨ë¸ì´ í™”ë©´ì— ë“±ì¥í•˜ë©° ë°ì€ ë¯¸ì†Œë¥¼ ì§€ìœ¼ë©° ì œí’ˆì„ ì†Œê°œí•©ë‹ˆë‹¤. "ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ íŠ¹ë³„í•œ ì œí’ˆì„ ì†Œê°œí•´ë“œë¦´ê²Œìš”."
                                </div>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 3fr; gap: 16px; margin-bottom: 16px;">
                            <div>
                                <strong>ğŸ·ï¸ ì¥ë©´ 2 (5-10ì´ˆ)</strong>
                                <p style="font-size: 12px; color: #718096; margin: 4px 0;">ì œí’ˆ ì†Œê°œ</p>
                            </div>
                            <div>
                                <div id="scene2Text" style="line-height: 1.6;">
                                    ì œí’ˆì˜ í•µì‹¬ ê¸°ëŠ¥ê³¼ ì¥ì ì„ ê°•ì¡°í•˜ë©° ì‹¤ì œ ì‚¬ìš© ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤. "ì´ ì œí’ˆì˜ ë†€ë¼ìš´ íš¨ê³¼ë¥¼ ì§ì ‘ í™•ì¸í•´ë³´ì„¸ìš”!"
                                </div>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 3fr; gap: 16px;">
                            <div>
                                <strong>âœ¨ ì¥ë©´ 3 (10-15ì´ˆ)</strong>
                                <p style="font-size: 12px; color: #718096; margin: 4px 0;">ë§ˆë¬´ë¦¬</p>
                            </div>
                            <div>
                                <div id="scene3Text" style="line-height: 1.6;">
                                    ê°•ë ¥í•œ ì½œíˆ¬ì•¡ì…˜ê³¼ í•¨ê»˜ ì œí’ˆëª…ì„ ë‹¤ì‹œ í•œë²ˆ ê°•ì¡°í•©ë‹ˆë‹¤. "ì§€ê¸ˆ ë°”ë¡œ êµ¬ë§¤í•˜ê³  íŠ¹ë³„í•œ í˜œíƒì„ ë°›ì•„ë³´ì„¸ìš”!"
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì‹œë‚˜ë¦¬ì˜¤ ìˆ˜ì • ì˜µì…˜ -->
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-outline" onclick="modifyScenario()">
                            âœï¸ ë¶€ë¶„ ìˆ˜ì •
                        </button>
                        <button class="btn btn-outline" onclick="replaceScenario()" style="border-color: #ed8936; color: #ed8936;">
                            ğŸ”„ ì „ë©´ êµì²´
                        </button>
                        <div style="flex: 1;"></div>
                        <button class="btn btn-primary" onclick="approveScenario()">
                            ğŸ‘ ì´ ì‹œë‚˜ë¦¬ì˜¤ë¡œ ì§„í–‰
                        </button>
                    </div>
                </div>
                
                <!-- ìˆ˜ì • ëª¨ë“œ (ìˆ¨ê¹€ ìƒíƒœ) -->
                <div id="editMode" style="display: none; background: #fff5f5; border-radius: 12px; padding: 24px; margin-bottom: 24px; border-left: 4px solid #e53e3e;">
                    <h3 style="margin-bottom: 16px;">âœï¸ ì‹œë‚˜ë¦¬ì˜¤ ìˆ˜ì •</h3>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="font-weight: 500; margin-bottom: 8px; display: block;">ì¥ë©´ 1 (ì˜¤í”„ë‹):</label>
                        <textarea id="editScene1" class="form-input" rows="2" style="resize: vertical;">ë§¤ë ¥ì ì¸ ëª¨ë¸ì´ í™”ë©´ì— ë“±ì¥í•˜ë©° ë°ì€ ë¯¸ì†Œë¥¼ ì§€ìœ¼ë©° ì œí’ˆì„ ì†Œê°œí•©ë‹ˆë‹¤. "ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ íŠ¹ë³„í•œ ì œí’ˆì„ ì†Œê°œí•´ë“œë¦´ê²Œìš”."</textarea>
                    </div>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="font-weight: 500; margin-bottom: 8px; display: block;">ì¥ë©´ 2 (ì œí’ˆ ì†Œê°œ):</label>
                        <textarea id="editScene2" class="form-input" rows="2" style="resize: vertical;">ì œí’ˆì˜ í•µì‹¬ ê¸°ëŠ¥ê³¼ ì¥ì ì„ ê°•ì¡°í•˜ë©° ì‹¤ì œ ì‚¬ìš© ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤. "ì´ ì œí’ˆì˜ ë†€ë¼ìš´ íš¨ê³¼ë¥¼ ì§ì ‘ í™•ì¸í•´ë³´ì„¸ìš”!"</textarea>
                    </div>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="font-weight: 500; margin-bottom: 8px; display: block;">ì¥ë©´ 3 (ë§ˆë¬´ë¦¬):</label>
                        <textarea id="editScene3" class="form-input" rows="2" style="resize: vertical;">ê°•ë ¥í•œ ì½œíˆ¬ì•¡ì…˜ê³¼ í•¨ê»˜ ì œí’ˆëª…ì„ ë‹¤ì‹œ í•œë²ˆ ê°•ì¡°í•©ë‹ˆë‹¤. "ì§€ê¸ˆ ë°”ë¡œ êµ¬ë§¤í•˜ê³  íŠ¹ë³„í•œ í˜œíƒì„ ë°›ì•„ë³´ì„¸ìš”!"</textarea>
                    </div>
                    
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-outline" onclick="cancelEdit()">ì·¨ì†Œ</button>
                        <button class="btn btn-primary" onclick="saveEdit()">ìˆ˜ì • ì™„ë£Œ</button>
                    </div>
                </div>
                
                <!-- êµì²´ ëª¨ë“œ (ìˆ¨ê¹€ ìƒíƒœ) -->
                <div id="replaceMode" style="display: none; background: #fffaf0; border-radius: 12px; padding: 24px; margin-bottom: 24px; border-left: 4px solid #ed8936;">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <h3 style="margin: 0; margin-right: 12px;">ğŸ”„ ì‹œë‚˜ë¦¬ì˜¤ ì „ë©´ êµì²´</h3>
                        <span style="background: #ed8936; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">5 í† í° ì†Œëª¨</span>
                    </div>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="font-weight: 500; margin-bottom: 8px; display: block;">ìƒˆë¡œìš´ ì‹œë‚˜ë¦¬ì˜¤ ìš”ì²­ì‚¬í•­:</label>
                        <textarea id="newScenarioRequest" class="form-input" rows="3" placeholder="ì˜ˆ: ë” ê°ì„±ì ì´ê³  ë”°ëœ»í•œ ëŠë‚Œìœ¼ë¡œ, ê°€ì¡± ì¤‘ì‹¬ì˜ ë©”ì‹œì§€ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-outline" onclick="cancelReplace()">ì·¨ì†Œ</button>
                        <button class="btn btn-primary" onclick="generateNewScenario()">ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± (5 í† í°)</button>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="prevStep()">ì´ì „ ë‹¨ê³„</button>
                    <button class="btn btn-primary" id="step5Next" onclick="nextStep()" disabled style="display: none;">ì‹œë‚˜ë¦¬ì˜¤ ìŠ¹ì¸í•˜ê³  ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- 6ë‹¨ê³„: ì˜ìƒ ì œì‘ -->
            <div class="step-content" id="step6">
                <div class="progress-indicator">
                    <div class="progress-text">6/7 ë‹¨ê³„ - ì˜ìƒ ì œì‘</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ğŸ¬ ì˜ìƒ ì œì‘ ì˜µì…˜ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h1>
                <p style="color: #718096; margin-bottom: 32px;">ì‹œë‚˜ë¦¬ì˜¤ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ìƒ ì œì‘ ë°©ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                
                <!-- ì˜ìƒ ì œì‘ ì˜µì…˜ ì„ íƒ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px;">
                    <div class="card" onclick="startDirectVideoCreation()" style="padding: 32px; text-align: center; cursor: pointer; border: 2px solid #e2e8f0; transition: all 0.2s ease;">
                        <div style="font-size: 48px; margin-bottom: 16px;">âš¡</div>
                        <h3 style="margin-bottom: 12px; color: #2d3748;">ë°”ë¡œ ì˜ìƒ ì œì‘</h3>
                        <p style="font-size: 14px; color: #718096; margin-bottom: 16px;">ìŠ¹ì¸ëœ ì‹œë‚˜ë¦¬ì˜¤ë¡œ ì¦‰ì‹œ ì˜ìƒì„ ì œì‘í•©ë‹ˆë‹¤. ë¹ ë¥´ê³  ê°„ë‹¨í•œ ë°©ë²•ì…ë‹ˆë‹¤.</p>
                        <div style="background: #38a169; color: white; padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-block;">ì¶”ì²œ</div>
                    </div>
                    
                    <div class="card" onclick="showImagePreviewOption()" style="padding: 32px; text-align: center; cursor: pointer; border: 2px solid #e2e8f0; transition: all 0.2s ease;">
                        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ–¼ï¸</div>
                        <h3 style="margin-bottom: 12px; color: #2d3748;">ì´ë¯¸ì§€ ì‹œì•ˆ ë¨¼ì € í™•ì¸</h3>
                        <p style="font-size: 14px; color: #718096; margin-bottom: 16px;">ê° ì¥ë©´ì˜ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ í™•ì¸í•˜ê³  ìˆ˜ì •í•œ í›„ ì˜ìƒì„ ì œì‘í•©ë‹ˆë‹¤.</p>
                        <div style="background: #3182ce; color: white; padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-block;">ì •ë°€ ì œì–´</div>
                    </div>
                </div>
                
                <!-- ì§„í–‰ì¤‘ í‘œì‹œ (ìˆ¨ê¹€ ìƒíƒœ) -->
                <div id="videoCreationProgress" style="display: none; background: #f0fff4; border-radius: 12px; padding: 32px; text-align: center; border-left: 4px solid #38a169;">
                    <div style="font-size: 64px; margin-bottom: 16px;">ğŸ¬</div>
                    <h2 style="margin-bottom: 16px; color: #2d3748;">ì˜ìƒ ì œì‘ ì¤‘...</h2>
                    <p style="color: #718096; margin-bottom: 24px;">AIê°€ ìµœê³  í’ˆì§ˆì˜ ì˜ìƒì„ ì œì‘í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                    
                    <div style="background: white; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="font-weight: 500;">ì§„í–‰ ìƒí™©</span>
                            <span id="progressPercentage">15%</span>
                        </div>
                        <div style="background: #e2e8f0; height: 8px; border-radius: 4px; overflow: hidden;">
                            <div id="progressBar" style="background: linear-gradient(90deg, #38a169, #48bb78); height: 100%; width: 15%; transition: width 0.5s ease;"></div>
                        </div>
                        <div style="margin-top: 8px; font-size: 14px; color: #718096;" id="progressStatus">ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„ ì¤‘...</div>
                    </div>
                    
                    <div style="font-size: 14px; color: #718096;">
                        ì˜ˆìƒ ì™„ë£Œ ì‹œê°„: <strong>ì•½ 3-5ë¶„</strong>
                    </div>
                </div>
                
                <div class="action-buttons" id="step6Actions">
                    <button class="btn btn-outline" onclick="prevStep()">ì´ì „ ë‹¨ê³„</button>
                    <button class="btn btn-primary" id="step6Next" onclick="nextStep()" disabled style="display: none;">ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
                
                <!-- ì´ë¯¸ì§€ ì‹œì•ˆ ì„ íƒ ì„¹ì…˜ (ìˆ¨ê¹€ ìƒíƒœ) -->
                <div id="imagePreviewSection" style="display: none;">
                    <h2 style="margin-bottom: 24px; color: #2d3748;">ğŸ–¼ï¸ ì´ë¯¸ì§€ ì‹œì•ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                    <p style="color: #718096; margin-bottom: 24px;">ê° ì»·ë³„ë¡œ 4ê°œì˜ ì‹œì•ˆ ì¤‘ ë§ˆìŒì— ë“œëŠ” ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”. ì„ íƒëœ ì´ë¯¸ì§€ë“¤ë¡œ ìµœì¢… ì˜ìƒì´ ì œì‘ë©ë‹ˆë‹¤.</p>
                    
                    <div class="subheading">ì»· 1: ì˜¤í”„ë‹ ì¥ë©´</div>
                    <div class="image-grid">
                        <div class="image-option" onclick="selectImage(this, 'cut1', 'img1')">
                            <img src="https://picsum.photos/400/225?random=1" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 1-1">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut1', 'img2')">
                            <img src="https://picsum.photos/400/225?random=2" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 1-2">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut1', 'img3')">
                            <img src="https://picsum.photos/400/225?random=3" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 1-3">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut1', 'img4')">
                            <img src="https://picsum.photos/400/225?random=4" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 1-4">
                        </div>
                    </div>
                    <button class="btn btn-outline" style="margin-top: 8px;" onclick="regenerateImages('cut1')">ì´ ì»· ë‹¤ì‹œ ìƒì„± (3 í† í°)</button>
                    
                    <div class="subheading" style="margin-top: 32px;">ì»· 2: ì œí’ˆ ì†Œê°œ</div>
                    <div class="image-grid">
                        <div class="image-option" onclick="selectImage(this, 'cut2', 'img1')">
                            <img src="https://picsum.photos/400/225?random=5" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 2-1">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut2', 'img2')">
                            <img src="https://picsum.photos/400/225?random=6" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 2-2">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut2', 'img3')">
                            <img src="https://picsum.photos/400/225?random=7" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 2-3">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut2', 'img4')">
                            <img src="https://picsum.photos/400/225?random=8" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 2-4">
                        </div>
                    </div>
                    <button class="btn btn-outline" style="margin-top: 8px;" onclick="regenerateImages('cut2')">ì´ ì»· ë‹¤ì‹œ ìƒì„± (3 í† í°)</button>
                    
                    <div class="subheading" style="margin-top: 32px;">ì»· 3: ë§ˆë¬´ë¦¬ ì¥ë©´</div>
                    <div class="image-grid">
                        <div class="image-option" onclick="selectImage(this, 'cut3', 'img1')">
                            <img src="https://picsum.photos/400/225?random=9" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 3-1">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut3', 'img2')">
                            <img src="https://picsum.photos/400/225?random=10" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 3-2">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut3', 'img3')">
                            <img src="https://picsum.photos/400/225?random=11" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 3-3">
                        </div>
                        <div class="image-option" onclick="selectImage(this, 'cut3', 'img4')">
                            <img src="https://picsum.photos/400/225?random=12" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" alt="ì‹œì•ˆ 3-4">
                        </div>
                    </div>
                    <button class="btn btn-outline" style="margin-top: 8px;" onclick="regenerateImages('cut3')">ì´ ì»· ë‹¤ì‹œ ìƒì„± (3 í† í°)</button>
                    
                    <div class="action-buttons">
                        <button class="btn btn-outline" onclick="backToVideoOptions()">ì´ì „ìœ¼ë¡œ</button>
                        <button class="btn btn-primary" id="step6ImageNext" onclick="nextStep()" disabled>ì„ íƒëœ ì´ë¯¸ì§€ë¡œ ì˜ìƒ ì œì‘</button>
                    </div>
                </div>
            </div>

            <!-- 7ë‹¨ê³„: ê²°ê³¼ í™•ì¸ (ì´ì „ 8ë‹¨ê³„ì—ì„œ ë³€ê²½) -->
            <div class="step-content" id="step7">
                <div class="progress-indicator">
                    <div class="progress-text">7/7 ë‹¨ê³„ - ê²°ê³¼ í™•ì¸</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 100%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ğŸ‰ ê´‘ê³  ì˜ìƒì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
                <p style="color: #718096; margin-bottom: 32px;">xBrush AIê°€ ì œì‘í•œ ë‹¹ì‹ ë§Œì˜ ì „ë¬¸ ê´‘ê³  ì˜ìƒì„ í™•ì¸í•´ë³´ì„¸ìš”.</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; align-items: start;">
                    <!-- ì˜ìƒ ë¯¸ë¦¬ë³´ê¸° -->
                    <div>
                        <video 
                            style="width: 100%; height: auto; max-height: 400px; background: #000; border-radius: 12px; margin-bottom: 16px; object-fit: contain;"
                            src="https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/1.mp4"
                            autoplay
                            controls
                            loop
                            muted>
                        </video>
                        
                        <div style="display: flex; gap: 12px;">
                            <button class="btn btn-primary" style="flex: 1;" onclick="downloadVideo()">
                                ë‹¤ìš´ë¡œë“œ
                            </button>
                            <button class="btn btn-outline" onclick="shareVideo()">
                                ê³µìœ í•˜ê¸°
                            </button>
                        </div>
                    </div>
                    
                    <!-- ì˜ìƒ ì •ë³´ -->
                    <div>
                        <div style="background: #f7fafc; border-radius: 12px; padding: 24px; margin-bottom: 24px;">
                            <h3 style="font-weight: 600; margin-bottom: 16px;">ì˜ìƒ ì •ë³´</h3>
                            <div style="margin-bottom: 12px;">
                                <strong>ì œí’ˆ:</strong> <span id="finalProduct">-</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>íƒ€ê²Ÿ:</strong> <span id="finalTarget">-</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>ìŠ¤íƒ€ì¼:</strong> <span id="finalStyle">-</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>í˜•ì‹:</strong> <span id="finalFormat">-</span>
                            </div>
                            <div>
                                <strong>ê¸¸ì´:</strong> <span id="finalDuration">-</span>ì´ˆ
                            </div>
                        </div>
                        
                        <div style="border: 1px solid #e2e8f0; border-radius: 12px; padding: 24px;">
                            <h3 style="font-weight: 600; margin-bottom: 16px; color: #38a169;">ë§Œì¡±ë„ í‰ê°€</h3>
                            <p style="color: #718096; margin-bottom: 16px; font-size: 14px;">ì´ ì˜ìƒì„ ê´‘ê³ ë¡œ ì‚¬ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                            
                            <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                                <button class="btn btn-primary" onclick="satisfiedWithVideo()">
                                    ğŸ‘ ë§Œì¡±í•©ë‹ˆë‹¤
                                </button>
                                <button class="btn btn-outline" onclick="showRegenerateOptions()">
                                    ğŸ”„ ìˆ˜ì • í•„ìš”
                                </button>
                            </div>
                            
                            <p style="color: #718096; font-size: 12px;">
                                ë” ì„¸ë°€í•œ í¸ì§‘ì´ í•„ìš”í•˜ì‹œë‹¤ë©´ 
                                <a href="#" style="color: #3182ce;">ì¶”ì²œ í¸ì§‘ ì•±</a>ì„ 
                                í™•ì¸í•´ë³´ì„¸ìš”.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- ë¶€ë¶„ ì¬ìƒì„± ì˜µì…˜ (ìˆ¨ê¹€ ìƒíƒœ) -->
                <div id="partialRegenerateSection" style="display: none; margin-top: 32px; background: #fffaf0; border-radius: 12px; padding: 32px; border-left: 4px solid #ed8936;">
                    <h3 style="margin-bottom: 16px; color: #2d3748;">ğŸ¬ ë¶€ë¶„ ì¬ìƒì„± ì˜µì…˜</h3>
                    <p style="color: #718096; margin-bottom: 24px;">ë§ˆìŒì— ë“¤ì§€ ì•ŠëŠ” íŠ¹ì • ì¥ë©´ë§Œ ë‹¤ì‹œ ì œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì „ì²´ë¥¼ ë‹¤ì‹œ ë§Œë“¤ í•„ìš”ê°€ ì—†ì–´ìš”!</p>
                    
                    <!-- 3ê°œ ì»· ì„ íƒ -->
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div class="card partial-regenerate-option" onclick="selectCutToRegenerate('cut1')" style="padding: 20px; text-align: center; cursor: pointer; border: 2px solid #e2e8f0; transition: all 0.2s ease;">
                            <div style="aspect-ratio: 16/9; background: #000; border-radius: 8px; margin-bottom: 12px; position: relative; overflow: hidden;">
                                <video style="width: 100%; height: 100%; object-fit: cover;" muted>
                                    <source src="https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/2.mp4" type="video/mp4">
                                </video>
                                <div style="position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">0-5ì´ˆ</div>
                            </div>
                            <h4 style="margin-bottom: 8px; font-size: 14px;">ì»· 1: ì˜¤í”„ë‹</h4>
                            <p style="font-size: 12px; color: #718096;">ì œí’ˆ ì†Œê°œ ì¥ë©´</p>
                            <div style="margin-top: 12px;">
                                <span style="background: #ed8936; color: white; padding: 4px 8px; border-radius: 12px; font-size: 10px;">5 í† í°</span>
                            </div>
                        </div>
                        
                        <div class="card partial-regenerate-option" onclick="selectCutToRegenerate('cut2')" style="padding: 20px; text-align: center; cursor: pointer; border: 2px solid #e2e8f0; transition: all 0.2s ease;">
                            <div style="aspect-ratio: 16/9; background: #000; border-radius: 8px; margin-bottom: 12px; position: relative; overflow: hidden;">
                                <video style="width: 100%; height: 100%; object-fit: cover;" muted>
                                    <source src="https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/3.mp4" type="video/mp4">
                                </video>
                                <div style="position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">5-10ì´ˆ</div>
                            </div>
                            <h4 style="margin-bottom: 8px; font-size: 14px;">ì»· 2: ì œí’ˆ ì‹œì—°</h4>
                            <p style="font-size: 12px; color: #718096;">í•µì‹¬ ê¸°ëŠ¥ ì„¤ëª…</p>
                            <div style="margin-top: 12px;">
                                <span style="background: #ed8936; color: white; padding: 4px 8px; border-radius: 12px; font-size: 10px;">5 í† í°</span>
                            </div>
                        </div>
                        
                        <div class="card partial-regenerate-option" onclick="selectCutToRegenerate('cut3')" style="padding: 20px; text-align: center; cursor: pointer; border: 2px solid #e2e8f0; transition: all 0.2s ease;">
                            <div style="aspect-ratio: 16/9; background: #000; border-radius: 8px; margin-bottom: 12px; position: relative; overflow: hidden;">
                                <video style="width: 100%; height: 100%; object-fit: cover;" muted>
                                    <source src="https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/4.mp4" type="video/mp4">
                                </video>
                                <div style="position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">10-15ì´ˆ</div>
                            </div>
                            <h4 style="margin-bottom: 8px; font-size: 14px;">ì»· 3: ë§ˆë¬´ë¦¬</h4>
                            <p style="font-size: 12px; color: #718096;">ì½œíˆ¬ì•¡ì…˜ ë° ë¸Œëœë”©</p>
                            <div style="margin-top: 12px;">
                                <span style="background: #ed8936; color: white; padding: 4px 8px; border-radius: 12px; font-size: 10px;">5 í† í°</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; justify-content: center;">
                        <button class="btn btn-outline" onclick="hideRegenerateOptions()">ì·¨ì†Œ</button>
                        <button class="btn btn-outline" onclick="regenerateEntireVideo()" style="border-color: #e53e3e; color: #e53e3e;">
                            ğŸ”„ ì „ì²´ ë‹¤ì‹œ ì œì‘ (15 í† í°)
                        </button>
                    </div>
                </div>
                
                <!-- CTA ë°°ë„ˆ ê°„ì†Œí™” -->
                <div class="cta-banner" style="background: linear-gradient(135deg, #ed8936, #f6ad55);" onclick="applyAsModel()">
                    <div class="shine"></div>
                    <div style="position: relative; z-index: 1;">
                        <h3 style="margin: 0; font-size: 18px; font-weight: 600;">ğŸŒŸ AI ëª¨ë¸ë¡œ í™œë™í•˜ê³  ìˆ˜ìµ ì°½ì¶œí•˜ê¸°</h3>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="startOver()">ìƒˆ ê´‘ê³  ë§Œë“¤ê¸°</button>
                    <button class="btn btn-primary" onclick="goToLibrary()">ë‚´ ê´‘ê³  ë³´ê´€í•¨</button>
                </div>
            </div>

            <!-- ì˜ìƒ ì œì‘ ì¤‘ í™”ë©´ (ë³„ë„ ë¶„ë¦¬) -->
            <div class="step-content" id="step8">
                <div class="progress-indicator">
                    <div class="progress-text">ì™„ì„±! - ê²°ê³¼ í™•ì¸</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 100%"></div>
                    </div>
                </div>
                
                <h1 class="heading">ğŸ‰ ê´‘ê³  ì˜ìƒì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
                <p style="color: #718096; margin-bottom: 32px;">xBrush AIê°€ ì œì‘í•œ ë‹¹ì‹ ë§Œì˜ ì „ë¬¸ ê´‘ê³  ì˜ìƒì„ í™•ì¸í•´ë³´ì„¸ìš”.</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; align-items: start;">
                    <!-- ì˜ìƒ ë¯¸ë¦¬ë³´ê¸° -->
                    <div>
                        <video 
                            style="width: 100%; height: auto; max-height: 400px; background: #000; border-radius: 12px; margin-bottom: 16px; object-fit: contain;"
                            src="https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/1.mp4"
                            autoplay
                            controls
                            loop
                            muted>
                        </video>
                        
                        <div style="display: flex; gap: 12px;">
                            <button class="btn btn-primary" style="flex: 1;" onclick="downloadVideo()">
                                ë‹¤ìš´ë¡œë“œ
                            </button>
                            <button class="btn btn-outline" onclick="shareVideo()">
                                ê³µìœ í•˜ê¸°
                            </button>
                        </div>
                    </div>
                    
                    <!-- ì˜ìƒ ì •ë³´ -->
                    <div>
                        <div style="background: #f7fafc; border-radius: 12px; padding: 24px; margin-bottom: 24px;">
                            <h3 style="font-weight: 600; margin-bottom: 16px;">ì˜ìƒ ì •ë³´</h3>
                            <div style="margin-bottom: 12px;">
                                <strong>ì œí’ˆ:</strong> <span id="finalProduct">-</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>íƒ€ê²Ÿ:</strong> <span id="finalTarget">-</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>ìŠ¤íƒ€ì¼:</strong> <span id="finalStyle">-</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>í˜•ì‹:</strong> <span id="finalFormat">-</span>
                            </div>
                            <div>
                                <strong>ê¸¸ì´:</strong> <span id="finalDuration">-</span>ì´ˆ
                            </div>
                        </div>
                        
                        <div style="border: 1px solid #e2e8f0; border-radius: 12px; padding: 24px;">
                            <h3 style="font-weight: 600; margin-bottom: 16px; color: #38a169;">ë§Œì¡±ë„ í‰ê°€</h3>
                            <p style="color: #718096; margin-bottom: 16px; font-size: 14px;">ì´ ì˜ìƒì„ ê´‘ê³ ë¡œ ì‚¬ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                            
                            <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                                <button class="btn btn-primary" onclick="satisfiedWithVideo()">
                                    ğŸ‘ ë§Œì¡±í•©ë‹ˆë‹¤
                                </button>
                                <button class="btn btn-outline" onclick="regenerateVideo()">
                                    ğŸ”„ ë‹¤ì‹œ ì œì‘
                                </button>
                            </div>
                            
                            <p style="color: #718096; font-size: 12px;">
                                ë” ì„¸ë°€í•œ í¸ì§‘ì´ í•„ìš”í•˜ì‹œë‹¤ë©´ 
                                <a href="#" style="color: #3182ce;">ì¶”ì²œ í¸ì§‘ ì•±</a>ì„ 
                                í™•ì¸í•´ë³´ì„¸ìš”.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- CTA ë°°ë„ˆ ê°„ì†Œí™” -->
                <div class="cta-banner" style="background: linear-gradient(135deg, #ed8936, #f6ad55);" onclick="applyAsModel()">
                    <div class="shine"></div>
                    <div style="position: relative; z-index: 1;">
                        <h3 style="margin: 0; font-size: 18px; font-weight: 600;">ğŸŒŸ AI ëª¨ë¸ë¡œ í™œë™í•˜ê³  ìˆ˜ìµ ì°½ì¶œí•˜ê¸°</h3>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="startOver()">ìƒˆ ê´‘ê³  ë§Œë“¤ê¸°</button>
                    <button class="btn btn-primary" onclick="goToLibrary()">ë‚´ ê´‘ê³  ë³´ê´€í•¨</button>
                </div>
            </div>
        </div>
    </div>

    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
    </style>

    <script>
        // ========================================
        // ì´ë¯¸ì§€ URL ì„¤ì • (ì—¬ê¸°ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤!)
        // ========================================
        
        const MODEL_IMAGES = {
            // ë²„ì¸„ì–¼ ëª¨ë¸ ì´ë¯¸ì§€ (4ê°œ)
            virtual1: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/7.png',
            virtual2: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/8.png', 
            virtual3: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/9.png',
            virtual4: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/10.png',
            
            // ì‹¤ì œ ë°°ìš° ì´ë¯¸ì§€ (6ê°œ) - ì„ì‹œë¡œ ëœë¤ ì´ë¯¸ì§€ ì‚¬ìš©
            actor1: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/chae.png',  // ì±„ì—°
            actor2: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/2.png',  // ì•„ì´ìœ 
            actor3: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/3.png',  // ì´ì •ì¬
            actor4: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/4.png',  // ì „ì§€í˜„
            actor5: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/5.png',  // ë°•ì„œì¤€
            actor6: 'https://jpjpkimjp.github.io/xbrush_movie_MVP1/images/6.png'  // ì†ì˜ˆì§„
        };

        let currentStep = 1;
        let selectedData = {
            model: null,
            modelTier: null,
            productName: '',
            targetAudience: '',
            coreMessage: '',
            tone: '',
            format: null,
            duration: null,
            style: null,
            scenarioApproved: false,
            selectedImages: {
                cut1: null,
                cut2: null,
                cut3: null
            }
        };

        // ë‹¨ê³„ ì´ë™ í•¨ìˆ˜
        function goToStep(step) {
            // ì´ì „ ë‹¨ê³„ë“¤ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
            if (step > 1 && !isStepCompleted(step - 1)) {
                return;
            }
            
            // í˜„ì¬ ë‹¨ê³„ ë¹„í™œì„±í™”
            const currentStepElement = document.getElementById(`step${currentStep}`);
            if (currentStepElement) currentStepElement.classList.remove('active');
            
            const currentStepNav = document.querySelector(`[data-step="${currentStep}"]`);
            if (currentStepNav) currentStepNav.classList.remove('active');
            
            // ìƒˆ ë‹¨ê³„ í™œì„±í™”
            currentStep = step;
            const newStepElement = document.getElementById(`step${currentStep}`);
            if (newStepElement) newStepElement.classList.add('active');
            
            const newStepNav = document.querySelector(`[data-step="${currentStep}"]`);
            if (newStepNav) newStepNav.classList.add('active');
            
            // ì™„ë£Œëœ ë‹¨ê³„ë“¤ í‘œì‹œ
            for (let i = 1; i < currentStep; i++) {
                const stepNav = document.querySelector(`[data-step="${i}"]`);
                if (stepNav) {
                    stepNav.classList.add('completed');
                    stepNav.classList.remove('active');
                }
            }
            
            // ì§„í–‰ë¥  ë°” ì—…ë°ì´íŠ¸
            updateProgressLine();
            
            // 8ë‹¨ê³„ë©´ ìµœì¢… ì •ë³´ ì—…ë°ì´íŠ¸
            if (step === 8) {
                updateFinalInfo();
            }
            
            // 6ë‹¨ê³„ ì´í›„ì—ëŠ” ì´ì „ ë²„íŠ¼ ë¹„í™œì„±í™”
            updatePrevButtonState();
        }
        
        // ì´ì „ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updatePrevButtonState() {
            const prevButtons = document.querySelectorAll('.action-buttons .btn-outline');
            prevButtons.forEach(button => {
                if (button.textContent.includes('ì´ì „ ë‹¨ê³„')) {
                    if (currentStep >= 6) {
                        button.disabled = true;
                        button.classList.add('btn-disabled');
                        button.title = 'ì´ë¯¸ì§€ ìƒì„± ì´í›„ì—ëŠ” ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤';
                    } else {
                        button.disabled = false;
                        button.classList.remove('btn-disabled');
                        button.title = '';
                    }
                }
            });
        }

        function nextStep() {
            if (currentStep < 8) {
                goToStep(currentStep + 1);
            }
        }

        function prevStep() {
            // 6ë‹¨ê³„(ì´ë¯¸ì§€ ì‹œì•ˆ) ì´í›„ë¶€í„°ëŠ” ë˜ëŒì•„ê°€ê¸° ì œí•œ
            if (currentStep >= 6) {
                showToast('âš ï¸ ì´ë¯¸ì§€ ìƒì„± ì´í›„ì—ëŠ” ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            if (currentStep > 1) {
                goToStep(currentStep - 1);
            }
        }

        // ì§„í–‰ë¥  ë°” ì—…ë°ì´íŠ¸
        function updateProgressLine() {
            const progressLine = document.getElementById('progressLine');
            let progress = ((currentStep - 1) / 7) * 100;
            progressLine.style.width = progress + '%';
        }

        // ë‹¨ê³„ ì™„ë£Œ í™•ì¸
        function isStepCompleted(step) {
            switch(step) {
                case 1: return selectedData.model !== null;
                case 2: return selectedData.productName !== '' && selectedData.targetAudience !== '' && selectedData.coreMessage !== '' && selectedData.tone !== '';
                case 3: return selectedData.format !== null && selectedData.duration !== null;
                case 4: return selectedData.style !== null;
                case 5: return selectedData.scenarioApproved === true;
                case 6: return selectedData.selectedImages.cut1 !== null && selectedData.selectedImages.cut2 !== null && selectedData.selectedImages.cut3 !== null;
                default: return true;
            }
        }

        // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™” í™•ì¸
        function checkNextButton() {
            const isCompleted = isStepCompleted(currentStep);
            const nextButton = document.getElementById(`step${currentStep}Next`);
            if (nextButton) {
                nextButton.disabled = !isCompleted;
                
                // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
                if (isCompleted) {
                    nextButton.classList.remove('btn-disabled');
                    nextButton.classList.add('btn-primary');
                } else {
                    nextButton.classList.add('btn-disabled');
                    nextButton.classList.remove('btn-primary');
                }
            }
        }

        // 1ë‹¨ê³„: ëª¨ë¸ ì„ íƒ (í¬ë ˆë”§ ì‹œìŠ¤í…œ í¬í•¨)
        function selectModel(element, modelId, tier) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('#step1 .card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ ì ìš©
            element.classList.add('selected');
            selectedData.model = modelId;
            selectedData.modelTier = tier;
            
            // í”„ë¦¬ë¯¸ì—„ ëª¨ë¸ ì„ íƒ ì‹œ í¬ë ˆë”§ ì•Œë¦¼
            if (tier === 'premium') {
                showToast('ğŸ¬ í”„ë¦¬ë¯¸ì—„ ë°°ìš°ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤! 100 í¬ë ˆë”§ì´ ì°¨ê°ë©ë‹ˆë‹¤.');
            }
            
            checkNextButton();
        }

        // 2ë‹¨ê³„: ì…ë ¥ í•„ë“œ ê°ì§€
        function setupFormValidation() {
            const inputs = ['productName', 'targetAudience', 'coreMessage', 'tone'];
            inputs.forEach(inputId => {
                const element = document.getElementById(inputId);
                element.addEventListener('input', () => {
                    selectedData[inputId] = element.value;
                    checkNextButton();
                });
                element.addEventListener('change', () => {
                    selectedData[inputId] = element.value;
                    checkNextButton();
                });
            });
        }

        // 3ë‹¨ê³„: í˜•ì‹ ì„ íƒ
        function selectFormat(element, formatId) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('#step3 .card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ ì ìš©
            element.classList.add('selected');
            selectedData.format = formatId;
            checkNextButton();
        }

        function selectDuration(element, duration) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            element.parentElement.querySelectorAll('.card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ ì ìš©
            element.classList.add('selected');
            selectedData.duration = duration;
            checkNextButton();
        }

        // 4ë‹¨ê³„: ìŠ¤íƒ€ì¼ ì„ íƒ
        function selectStyle(element, styleId) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('#step4 .card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ ì ìš©
            element.classList.add('selected');
            selectedData.style = styleId;
            checkNextButton();
        }

        // 5ë‹¨ê³„: ì´ë¯¸ì§€ ì„ íƒ
        function selectImage(element, cut, imageId) {
            // í•´ë‹¹ ì»·ì˜ ê¸°ì¡´ ì„ íƒ í•´ì œ
            element.parentElement.querySelectorAll('.image-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ ì ìš©
            element.classList.add('selected');
            selectedData.selectedImages[cut] = imageId;
            checkNextButton();
        }

        function regenerateImages(cut) {
            // ìœ ë£Œ ê¸°ëŠ¥ í™•ì¸
            const cutName = cut.replace('cut', 'ì»· ');
            if (!confirm(`ğŸ¨ ${cutName} ì´ë¯¸ì§€ë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nğŸ’° ë¹„ìš©: 3 í† í°\nâ±ï¸ ìƒì„± ì‹œê°„: ì•½ 30ì´ˆ\n\nâ€» í† í°ì´ ì°¨ê°ë˜ë©°, ê¸°ì¡´ ì´ë¯¸ì§€ë“¤ì´ ìƒˆë¡œ ìƒì„±ë©ë‹ˆë‹¤.`)) {
                return;
            }
            
            showToast(`ğŸ’° 3 í† í°ì´ ì°¨ê°ë˜ê³  ${cutName} ì´ë¯¸ì§€ë¥¼ ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤.`);
            
            // í•´ë‹¹ ì»·ì˜ ì»¨í…Œì´ë„ˆì™€ ë²„íŠ¼ì„ ì •í™•íˆ ì°¾ê¸°
            const step6 = document.getElementById('step6');
            let cutContainer;
            let button;
            
            if (cut === 'cut1') {
                // ì²« ë²ˆì§¸ "ì»· 1: ì˜¤í”„ë‹ ì¥ë©´" ì„¹ì…˜
                const subheadings = step6.querySelectorAll('.subheading');
                const firstSubheading = Array.from(subheadings).find(h => h.textContent.includes('ì»· 1'));
                if (firstSubheading) {
                    cutContainer = firstSubheading.nextElementSibling;
                    button = cutContainer.nextElementSibling;
                }
            } else if (cut === 'cut2') {
                // ë‘ ë²ˆì§¸ "ì»· 2: ì œí’ˆ ì†Œê°œ" ì„¹ì…˜
                const subheadings = step6.querySelectorAll('.subheading');
                const secondSubheading = Array.from(subheadings).find(h => h.textContent.includes('ì»· 2'));
                if (secondSubheading) {
                    cutContainer = secondSubheading.nextElementSibling;
                    button = cutContainer.nextElementSibling;
                }
            } else if (cut === 'cut3') {
                // ì„¸ ë²ˆì§¸ "ì»· 3: ë§ˆë¬´ë¦¬ ì¥ë©´" ì„¹ì…˜
                const subheadings = step6.querySelectorAll('.subheading');
                const thirdSubheading = Array.from(subheadings).find(h => h.textContent.includes('ì»· 3'));
                if (thirdSubheading) {
                    cutContainer = thirdSubheading.nextElementSibling;
                    button = cutContainer.nextElementSibling;
                }
            }
            
            if (!cutContainer || !button) {
                console.error('Container or button not found for', cut);
                console.log('cutContainer:', cutContainer);
                console.log('button:', button);
                return;
            }
            
            // ë²„íŠ¼ ë¹„í™œì„±í™” ë° ë¡œë”© ìƒíƒœ
            button.disabled = true;
            button.innerHTML = '<div style="width: 16px; height: 16px; border: 2px solid #e2e8f0; border-top: 2px solid #3182ce; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 8px; display: inline-block;"></div>ìƒì„± ì¤‘...';
            
            // ê¸°ì¡´ ì´ë¯¸ì§€ë“¤ ë¡œë”© ìƒíƒœë¡œ ë³€ê²½
            const imageOptions = cutContainer.querySelectorAll('.image-option');
            imageOptions.forEach((option, index) => {
                option.classList.remove('selected');
                option.innerHTML = `
                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">
                        <div style="width: 24px; height: 24px; border: 2px solid #e2e8f0; border-top: 2px solid #3182ce; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 8px;"></div>
                        <span style="font-size: 10px; color: #a0aec0;">ìƒì„± ì¤‘...</span>
                    </div>
                `;
            });
            
            // ì„ íƒëœ ì´ë¯¸ì§€ ì´ˆê¸°í™”
            selectedData.selectedImages[cut] = null;
            checkNextButton();
            
            // 3ì´ˆ í›„ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë“¤ í‘œì‹œ
            setTimeout(() => {
                imageOptions.forEach((option, index) => {
                    const cutNumber = cut.replace('cut', '');
                    const randomId = Date.now() + index; // í˜„ì¬ ì‹œê°„ + ì¸ë±ìŠ¤ë¡œ ê³ ìœ í•œ ëœë¤ ID ìƒì„±
                    
                    // ìƒˆë¡œìš´ ì´ë¯¸ì§€ HTML ìƒì„±
                    option.innerHTML = `
                        <img src="https://picsum.photos/400/225?random=${randomId}" 
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" 
                             alt="ì‹œì•ˆ ${cutNumber}-${index + 1}">
                    `;
                    
                    // í´ë¦­ ì´ë²¤íŠ¸ ë‹¤ì‹œ ì—°ê²°
                    option.onclick = function() {
                        selectImage(this, cut, `img${index + 1}`);
                    };
                    
                    // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
                    option.style.transform = 'scale(0.9)';
                    option.style.opacity = '0';
                    
                    setTimeout(() => {
                        option.style.transition = 'all 0.3s ease';
                        option.style.transform = 'scale(1)';
                        option.style.opacity = '1';
                    }, index * 100);
                });
                
                // ë²„íŠ¼ ë³µì›
                button.disabled = false;
                button.innerHTML = 'ì´ ì»· ë‹¤ì‹œ ìƒì„± (3 í† í°)';
                
                // ì„±ê³µ ë©”ì‹œì§€
                showToast(`${cutName} ìƒˆë¡œìš´ ì´ë¯¸ì§€ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤! (3 í† í° ì°¨ê°) âœ¨`);
                
            }, 3000);
        }
        
        function getRandomColor() {
            const colors = [
                '#667eea', '#764ba2', '#f093fb', '#f5576c', 
                '#4facfe', '#00f2fe', '#fa709a', '#fee140',
                '#a8edea', '#fed6e3', '#ffecd2', '#fcb69f',
                '#ff9a9e', '#fecfef', '#ffeef0', '#d299c2'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        function showToast(message) {
            // í† ìŠ¤íŠ¸ ë©”ì‹œì§€ ìƒì„±
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: white;
                color: #2d3748;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
                border: 1px solid #e2e8f0;
                z-index: 1000;
                animation: slideInRight 0.3s ease;
                font-size: 14px;
                font-weight: 500;
            `;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            // 3ì´ˆ í›„ ì œê±°
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // 7ë‹¨ê³„: ìµœì¢… ì •ë³´ ì—…ë°ì´íŠ¸
        function updateFinalInfo() {
            document.getElementById('finalProduct').textContent = selectedData.productName || '-';
            document.getElementById('finalTarget').textContent = getTargetText(selectedData.targetAudience);
            document.getElementById('finalStyle').textContent = getStyleText(selectedData.style);
            document.getElementById('finalFormat').textContent = getFormatText(selectedData.format);
            document.getElementById('finalDuration').textContent = selectedData.duration || '-';
        }

        function getTargetText(target) {
            const targets = {
                'teens': '10ëŒ€ (13-19ì„¸)',
                'twenties': '20ëŒ€ (20-29ì„¸)',
                'thirties': '30ëŒ€ (30-39ì„¸)',
                'forties': '40ëŒ€ (40-49ì„¸)',
                'fifties': '50ëŒ€ ì´ìƒ',
                'all': 'ì „ ì—°ë ¹ëŒ€'
            };
            return targets[target] || '-';
        }

        function getStyleText(style) {
            const styles = {
                'action': 'ì•¡ì…˜ ìŠ¤íƒ€ì¼',
                'romance': 'ë©œë¡œë“œë¼ë§ˆ ìŠ¤íƒ€ì¼',
                'thriller': 'ìŠ¤ë¦´ëŸ¬ ìŠ¤íƒ€ì¼',
                'comedy': 'ì½”ë¯¸ë”” ìŠ¤íƒ€ì¼',
                'documentary': 'ë‹¤íë©˜í„°ë¦¬ ìŠ¤íƒ€ì¼'
            };
            return styles[style] || '-';
        }

        function getFormatText(format) {
            const formats = {
                'youtube': 'ìœ íŠœë¸Œ ê´‘ê³ ',
                'instagram': 'ì¸ìŠ¤íƒ€ê·¸ë¨ í”¼ë“œ',
                'reels': 'ì¸ìŠ¤íƒ€ê·¸ë¨ ë¦´ìŠ¤',
                'shorts': 'ìœ íŠœë¸Œ ì‡¼ì¸ '
            };
            return formats[format] || '-';
        }

        // ìµœì¢… ë‹¨ê³„ ì•¡ì…˜ë“¤
        function downloadVideo() {
            alert('ì˜ìƒì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤!');
        }

        function shareVideo() {
            alert('ì˜ìƒì„ ê³µìœ í•©ë‹ˆë‹¤!');
        }

        function satisfiedWithVideo() {
            alert('ê°ì‚¬í•©ë‹ˆë‹¤! ì˜ìƒì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        function regenerateVideo() {
            // ìœ ë£Œ ê¸°ëŠ¥ ì•Œë¦¼
            if (confirm('ğŸ”„ ì˜ìƒì„ ë‹¤ì‹œ ì œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nğŸ’° ë¹„ìš©: 10 í† í°\nâ±ï¸ ì œì‘ ì‹œê°„: ì•½ 10-15ë¶„\n\nâ€» í† í°ì´ ì°¨ê°ë˜ë©°, ê¸°ì¡´ ì˜ìƒì€ ì‚­ì œë©ë‹ˆë‹¤.')) {
                showToast('ğŸ’° 10 í† í°ì´ ì°¨ê°ë˜ê³  ì˜ìƒì„ ë‹¤ì‹œ ì œì‘í•©ë‹ˆë‹¤.');
                // ì´ë¯¸ì§€ ì‹œì•ˆì„ ê±´ë„ˆë›°ì—ˆë‹¤ë©´ ì‹œë‚˜ë¦¬ì˜¤ ë‹¨ê³„ë¡œ, ì•„ë‹ˆë©´ ì´ë¯¸ì§€ ì‹œì•ˆ ë‹¨ê³„ë¡œ
                if (selectedData.skipImagePreview) {
                    goToStep(5); // ì‹œë‚˜ë¦¬ì˜¤ í™•ì¸ ë‹¨ê³„ë¡œ
                } else {
                    goToStep(6); // ì´ë¯¸ì§€ ì‹œì•ˆ ë‹¨ê³„ë¡œ
                }
            }
        }

        function startOver() {
            // ë°ì´í„° ì´ˆê¸°í™”
            selectedData = {
                model: null,
                modelTier: null,
                productName: '',
                targetAudience: '',
                coreMessage: '',
                tone: '',
                format: null,
                duration: null,
                style: null,
                scenarioApproved: false,
                selectedImages: {
                    cut1: null,
                    cut2: null,
                    cut3: null
                }
            };
            
            // ì²« ë‹¨ê³„ë¡œ ì´ë™
            goToStep(1);
            
            // ëª¨ë“  ë‹¨ê³„ ì´ˆê¸°í™”
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('completed');
            });
            
            // ëª¨ë“  ì„ íƒ í•´ì œ
            document.querySelectorAll('.card.selected').forEach(card => {
                card.classList.remove('selected');
            });
            
            // í¼ ì´ˆê¸°í™”
            document.querySelectorAll('.form-input, .form-select').forEach(input => {
                input.value = '';
            });
        }

        function goToLibrary() {
            alert('ê´‘ê³  ë³´ê´€í•¨ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤!');
        }

        // CTA ë°°ë„ˆ í´ë¦­ í•¨ìˆ˜
        function applyAsModel() {
            alert('ëª¨ë¸ ì‹ ì²­ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤! ğŸŒŸ\n\nâœ… ì‹ ì²­ í”„ë¡œì„¸ìŠ¤:\n1. ì–¼êµ´ ìŠ¤ìº” ì—…ë¡œë“œ\n2. ê°œì¸ì •ë³´ ì…ë ¥\n3. ê³„ì•½ì„œ ì‘ì„±\n4. AI ëª¨ë¸ ìƒì„±\n\nğŸ’° ì˜ˆìƒ ìˆ˜ìµ: ì›” 50-200ë§Œì›');
        }

        // 5ë‹¨ê³„: ì‹œë‚˜ë¦¬ì˜¤ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function modifyScenario() {
            document.getElementById('editMode').style.display = 'block';
            document.getElementById('replaceMode').style.display = 'none';
        }

        function replaceScenario() {
            document.getElementById('replaceMode').style.display = 'block';
            document.getElementById('editMode').style.display = 'none';
        }

        function approveScenario() {
            selectedData.scenarioApproved = true;
            checkNextButton();
            showToast('ì‹œë‚˜ë¦¬ì˜¤ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤! ì˜ìƒ ì œì‘ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
            
            // ìë™ìœ¼ë¡œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™
            setTimeout(() => {
                nextStep();
            }, 1000);
        }

        function cancelEdit() {
            document.getElementById('editMode').style.display = 'none';
        }

        function saveEdit() {
            // ìˆ˜ì •ëœ ë‚´ìš©ì„ ë©”ì¸ ì‹œë‚˜ë¦¬ì˜¤ì— ë°˜ì˜
            document.getElementById('scene1Text').textContent = document.getElementById('editScene1').value;
            document.getElementById('scene2Text').textContent = document.getElementById('editScene2').value;
            document.getElementById('scene3Text').textContent = document.getElementById('scene3').value;
            
            document.getElementById('editMode').style.display = 'none';
            showToast('ì‹œë‚˜ë¦¬ì˜¤ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        function cancelReplace() {
            document.getElementById('replaceMode').style.display = 'none';
            document.getElementById('newScenarioRequest').value = '';
        }

        function generateNewScenario() {
            const request = document.getElementById('newScenarioRequest').value;
            if (!request.trim()) {
                alert('ìƒˆë¡œìš´ ì‹œë‚˜ë¦¬ì˜¤ ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ë¡œë”© ìƒíƒœ í‘œì‹œ
            const button = event.target;
            button.disabled = true;
            button.innerHTML = '<div style="width: 16px; height: 16px; border: 2px solid #e2e8f0; border-top: 2px solid #3182ce; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 8px; display: inline-block;"></div>ìƒì„± ì¤‘...';
            
            // 3ì´ˆ í›„ ìƒˆë¡œìš´ ì‹œë‚˜ë¦¬ì˜¤ í‘œì‹œ (ì‹œë®¬ë ˆì´ì…˜)
            setTimeout(() => {
                // ìƒˆë¡œìš´ ì‹œë‚˜ë¦¬ì˜¤ ë‚´ìš© (ì˜ˆì‹œ)
                document.getElementById('scene1Text').textContent = 'ë”°ëœ»í•œ ê°€ì¡±ì˜ ëª¨ìŠµê³¼ í•¨ê»˜ ì œí’ˆì´ ìì—°ìŠ¤ëŸ½ê²Œ ë“±ì¥í•©ë‹ˆë‹¤. "ê°€ì¡±ê³¼ í•¨ê»˜í•˜ëŠ” ì†Œì¤‘í•œ ìˆœê°„ì„ ë”ìš± íŠ¹ë³„í•˜ê²Œ ë§Œë“¤ì–´ë³´ì„¸ìš”."';
                document.getElementById('scene2Text').textContent = 'ì œí’ˆì„ ì‚¬ìš©í•˜ëŠ” ê°€ì¡±ë“¤ì˜ í–‰ë³µí•œ ëª¨ìŠµì„ í†µí•´ ê°ì„±ì ì¸ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤. "ìš°ë¦¬ ê°€ì¡±ë§Œì˜ íŠ¹ë³„í•œ ê²½í—˜ì„ ì„ ì‚¬í•©ë‹ˆë‹¤."';
                document.getElementById('scene3Text').textContent = 'ê°€ì¡±ì˜ ë¯¸ì†Œì™€ í•¨ê»˜ ë¸Œëœë“œ ë©”ì‹œì§€ë¥¼ ë”°ëœ»í•˜ê²Œ ë§ˆë¬´ë¦¬í•©ë‹ˆë‹¤. "ì‚¬ë‘í•˜ëŠ” ê°€ì¡±ê³¼ í•¨ê»˜, ì§€ê¸ˆ ì‹œì‘í•˜ì„¸ìš”."';
                
                document.getElementById('replaceMode').style.display = 'none';
                document.getElementById('newScenarioRequest').value = '';
                
                button.disabled = false;
                button.innerHTML = 'ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± (5 í† í°)';
                
                showToast('ìƒˆë¡œìš´ ì‹œë‚˜ë¦¬ì˜¤ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤! (5 í† í° ì°¨ê°)');
            }, 3000);
        }

        // ì´ë¯¸ì§€ ì‹œì•ˆ ê±´ë„ˆë›°ê¸° (ë°”ë¡œ ì˜ìƒ ì œì‘)
        function skipImagePreview() {
            selectedData.skipImagePreview = true;
            goToStep(7); // ë°”ë¡œ ì˜ìƒ ì œì‘ ë‹¨ê³„ë¡œ
            showToast('ì´ë¯¸ì§€ ì‹œì•ˆì„ ê±´ë„ˆë›°ê³  ë°”ë¡œ ì˜ìƒ ì œì‘ì„ ì‹œì‘í•©ë‹ˆë‹¤!');
        }

        // ì´ë¯¸ì§€ ì‹œì•ˆ ë³´ê¸°
        function showImagePreview() {
            selectedData.skipImagePreview = false;
            goToStep(6); // ì´ë¯¸ì§€ ì‹œì•ˆ ë‹¨ê³„ë¡œ
            showToast('ì´ë¯¸ì§€ ì‹œì•ˆì„ ë¨¼ì € í™•ì¸í•©ë‹ˆë‹¤!');
        }

        // ë‹¨ê³„ í´ë¦­ ì´ë²¤íŠ¸
        document.querySelectorAll('.step').forEach(step => {
            step.addEventListener('click', () => {
                const stepNumber = parseInt(step.getAttribute('data-step'));
                
                // í˜„ì¬ ë‹¨ê³„ê°€ 6 ì´ìƒì´ê³ , í´ë¦­í•œ ë‹¨ê³„ê°€ í˜„ì¬ë³´ë‹¤ ì´ì „ì´ë©´ ì œí•œ
                if (currentStep >= 6 && stepNumber < currentStep) {
                    showToast('âš ï¸ ì´ë¯¸ì§€ ìƒì„± ì´í›„ì—ëŠ” ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                
                goToStep(stepNumber);
            });
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            setupFormValidation();
            updateProgressLine();
            loadModelImages(); // ì´ë¯¸ì§€ ë¡œë“œ
            
            // 7ë‹¨ê³„ ì§„ì… ì‹œ ìë™ìœ¼ë¡œ 8ë‹¨ê³„ë¡œ ì´ë™ (ì‹œë®¬ë ˆì´ì…˜)
            const originalGoToStep = goToStep;
            goToStep = function(step) {
                originalGoToStep(step);
                if (step === 7) {
                    setTimeout(() => {
                        originalGoToStep(8);
                    }, 3000); // 3ì´ˆ í›„ ì™„ì„± ë‹¨ê³„ë¡œ
                }
            };
        });
        
        // ========================================
        // ì´ë¯¸ì§€ ë¡œë“œ í•¨ìˆ˜ (ìë™ìœ¼ë¡œ ì´ë¯¸ì§€ ì ìš©)
        // ========================================
        function loadModelImages() {
            // ëª¨ë“  model-image ìš”ì†Œë¥¼ ì°¾ì•„ì„œ ì´ë¯¸ì§€ ì ìš©
            document.querySelectorAll('.model-image').forEach(element => {
                const modelId = element.getAttribute('data-model');
                if (MODEL_IMAGES[modelId]) {
                    element.style.backgroundImage = `url('${MODEL_IMAGES[modelId]}')`;
                }
            });
        }

        // 6ë‹¨ê³„ ì˜ìƒ ì œì‘ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function startDirectVideoCreation() {
            // ë°”ë¡œ ì˜ìƒ ì œì‘ ì‹œì‘
            showToast('ì˜ìƒ ì œì‘ì„ ì‹œì‘í•©ë‹ˆë‹¤! âš¡');
            
            // ì§„í–‰ í‘œì‹œ
            document.getElementById('videoCreationProgress').style.display = 'block';
            document.getElementById('step6Actions').style.display = 'none';
            
            // ì§„í–‰ë¥  ì‹œë®¬ë ˆì´ì…˜
            let progress = 15;
            const statuses = [
                'ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„ ì¤‘...',
                'AI ëª¨ë¸ ì¤€ë¹„ ì¤‘...',
                'ì²« ë²ˆì§¸ ì¥ë©´ ìƒì„± ì¤‘...',
                'ë‘ ë²ˆì§¸ ì¥ë©´ ìƒì„± ì¤‘...',
                'ì„¸ ë²ˆì§¸ ì¥ë©´ ìƒì„± ì¤‘...',
                'ì˜ìƒ í¸ì§‘ ì¤‘...',
                'ìµœì¢… ê²€í†  ì¤‘...',
                'ì™„ì„±!'
            ];
            
            let statusIndex = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15 + 5;
                if (progress > 100) progress = 100;
                
                document.getElementById('progressBar').style.width = progress + '%';
                document.getElementById('progressPercentage').textContent = Math.round(progress) + '%';
                
                if (statusIndex < statuses.length - 1) {
                    document.getElementById('progressStatus').textContent = statuses[statusIndex];
                    statusIndex++;
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        nextStep(); // 7ë‹¨ê³„(ê²°ê³¼ í™•ì¸)ë¡œ ì´ë™
                    }, 1000);
                }
            }, 800);
        }

        function showImagePreviewOption() {
            // ì´ë¯¸ì§€ ì‹œì•ˆ í™•ì¸ ì˜µì…˜ ì„ íƒ
            showToast('ì´ë¯¸ì§€ ì‹œì•ˆì„ ë¨¼ì € í™•ì¸í•©ë‹ˆë‹¤ ğŸ–¼ï¸');
            
            // ì´ë¯¸ì§€ ì‹œì•ˆ ì„¹ì…˜ í‘œì‹œ (ì´ë¯¸ step 6ì— ìˆìœ¼ë¯€ë¡œ navigation ë¶ˆí•„ìš”)
            setTimeout(() => {
                // ì˜µì…˜ ì„ íƒ ê·¸ë¦¬ë“œë¥¼ ìˆ¨ê¹€ (ë” ì •í™•í•œ selector ì‚¬ìš©)
                const optionGrid = document.querySelector('#step6 div[style*="display: grid"]');
                if (optionGrid) optionGrid.style.display = 'none';
                
                // ì„¤ëª… ë¬¸êµ¬ë„ ìˆ¨ê¹€
                const description = document.querySelector('#step6 p[style*="color: #718096"]');
                if (description) description.style.display = 'none';
                
                // ì•¡ì…˜ ë²„íŠ¼ë“¤ ìˆ¨ê¹€
                const actions = document.getElementById('step6Actions');
                if (actions) actions.style.display = 'none';
                
                // ì´ë¯¸ì§€ ì‹œì•ˆ ì„¹ì…˜ í‘œì‹œ
                const imageSection = document.getElementById('imagePreviewSection');
                if (imageSection) imageSection.style.display = 'block';
            }, 300);
        }

        function backToVideoOptions() {
            // ì˜ìƒ ì œì‘ ì˜µì…˜ìœ¼ë¡œ ëŒì•„ê°€ê¸°
            document.querySelector('#step6 > div:nth-child(3)').style.display = 'block'; // ì˜µì…˜ ì„ íƒ
            document.getElementById('step6Actions').style.display = 'block';
            document.getElementById('imagePreviewSection').style.display = 'none';
        }

        // 7ë‹¨ê³„ ë¶€ë¶„ ì¬ìƒì„± ê´€ë ¨ í•¨ìˆ˜ë“¤
        function showRegenerateOptions() {
            // ìˆ˜ì • ì˜µì…˜ í‘œì‹œ
            document.getElementById('partialRegenerateSection').style.display = 'block';
            
            // ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                document.getElementById('partialRegenerateSection').scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }, 100);
        }

        function hideRegenerateOptions() {
            // ìˆ˜ì • ì˜µì…˜ ìˆ¨ê¸°ê¸°
            document.getElementById('partialRegenerateSection').style.display = 'none';
        }

        function selectCutToRegenerate(cutId) {
            // íŠ¹ì • ì»· ì¬ìƒì„±
            const cutNames = {
                'cut1': 'ì˜¤í”„ë‹ ì¥ë©´',
                'cut2': 'ì œí’ˆ ì‹œì—° ì¥ë©´', 
                'cut3': 'ë§ˆë¬´ë¦¬ ì¥ë©´'
            };
            
            const cutName = cutNames[cutId];
            
            if (confirm(`${cutName}ì„ ë‹¤ì‹œ ì œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (5 í† í° ì†Œëª¨)`)) {
                showToast(`${cutName} ì¬ìƒì„±ì„ ì‹œì‘í•©ë‹ˆë‹¤... (5 í† í° ì°¨ê°) ğŸ¬`);
                
                // ì„ íƒëœ ì»·ì— ë¡œë”© íš¨ê³¼ ì¶”ê°€
                const selectedCard = document.querySelector(`[onclick="selectCutToRegenerate('${cutId}')"]`);
                selectedCard.style.opacity = '0.6';
                selectedCard.innerHTML += '<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 8px 16px; border-radius: 8px; font-size: 12px;">ì¬ìƒì„± ì¤‘...</div>';
                
                // 3ì´ˆ í›„ ì™„ë£Œ
                setTimeout(() => {
                    selectedCard.style.opacity = '1';
                    selectedCard.querySelector('div:last-child').remove();
                    showToast(`${cutName} ì¬ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! âœ¨`);
                    
                    // ì˜µì…˜ ìˆ¨ê¸°ê¸°
                    hideRegenerateOptions();
                }, 3000);
            }
        }

        function regenerateEntireVideo() {
            // ì „ì²´ ì˜ìƒ ì¬ìƒì„±
            if (confirm('ì „ì²´ ì˜ìƒì„ ë‹¤ì‹œ ì œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (15 í† í° ì†Œëª¨)')) {
                showToast('ì „ì²´ ì˜ìƒì„ ë‹¤ì‹œ ì œì‘í•©ë‹ˆë‹¤... (15 í† í° ì°¨ê°) ğŸ¬');
                
                // 6ë‹¨ê³„ë¡œ ëŒì•„ê°€ì„œ ì˜ìƒ ì œì‘ ë‹¤ì‹œ ì‹œì‘
                hideRegenerateOptions();
                goToStep(6);
                setTimeout(() => {
                    startDirectVideoCreation();
                }, 500);
            }
        }

        function satisfiedWithVideo() {
            // ì˜ìƒì— ë§Œì¡±í•˜ëŠ” ê²½ìš°
            showToast('ê°ì‚¬í•©ë‹ˆë‹¤! ì˜ìƒì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ‰');
            
            // ë§Œì¡±ë„ ì„¹ì…˜ ì—…ë°ì´íŠ¸
            const satisfactionSection = document.querySelector('#step7 .border');
            satisfactionSection.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 48px; margin-bottom: 16px;">ğŸ‰</div>
                    <h3 style="color: #38a169; margin-bottom: 8px;">ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
                    <p style="color: #718096; font-size: 14px;">ì˜ìƒì´ ë‚´ ë³´ê´€í•¨ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                </div>
            `;
        }
    </script>
</body>
</html>
